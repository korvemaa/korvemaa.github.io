---
title: RWP Reborn M4A1
description: "A weapon mod for Ravenfield using Phoenix Framework."
group: Ravenfield 
thumbnail: images/rwp-reborn-m4a1/thumbnail.jpg
date: 'Nov 20 2020'
tags: ["lua", "unity"]
gallery: [
    "images/rwp-reborn-m4a1/gallery-1.jpg",
    "images/rwp-reborn-m4a1/gallery-2.jpg",
    "images/rwp-reborn-m4a1/gallery-3.jpg",
    "images/rwp-reborn-m4a1/gallery-4.jpg",
    "images/rwp-reborn-m4a1/gallery-5.jpg",
    "images/rwp-reborn-m4a1/gallery-6.jpg",
    "images/rwp-reborn-m4a1/gallery-7.jpg",
    "images/rwp-reborn-m4a1/gallery-8.jpg",
    "images/rwp-reborn-m4a1/gallery-9.jpg",
]
videos: ["D_-qEz8_9zo", pVIMyy-1tAk, qVokgBlPgEg, "dYW6-hc1BUs"]
links: ["https://steamcommunity.com/sharedfiles/filedetails/?id=2292659876"]
---

## What is this?

The M4A1 is a Ravenfield custom weapon mod that utilizing phoenix framework to give it attachments and other extended weapon features/gameplay. This was the first attachment system weapon mod for 
tRavenfield that Brayan and I made. It roughly has 2592 unique weapon mod combinations, where you can swap out the mag, scope, stock, under-barrels, muzzles, rail-mount and skin providing a way to use
the weapon in any situation

## Technical Challenges we faced

(This is based all on my vague memory of what I remember since we going back ages)

Getting the animator to work with this was un-real. We had so many blend trees and different animations for each idle state the gun could be in (because you can swap out the scope, stock, mag, under-barrel). Couldnt
thank Brayan enough for the amount of awesome effort he put into this, it definitely paid off.

We also had to come up with a way to interop between the lua mutator (phoenix framework itself) and what the gun had which was also a pain in the bum. We had to request being able to read data of game-objects which we eventually got
but what we got was really annoying to use. From what I remember you added a MonoBehaviour component to the gun somewhere that had a whole bunch of array fields for each value type and you had to write out
all the data like a key-value pair in their respective type array. 

## The result

See for yourself below! What we made was incredibly polished and arguably way better then the vanilla weapons the game comes with and a lot of content for the game that was coming out at the time.
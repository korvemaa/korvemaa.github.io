---
import { getImage } from "astro:assets";

const { title, thumbnail, imageCount } = Astro.props;

const image = thumbnail != null ? await getImage({ src: thumbnail }) : null;
---

<div class="project-tile">
    <div class="thumbnail" style={`background-image: url(${image?.src});`}>
        <span
            style={imageCount > 0 ? "display: flex" : "display: none"}
            class="image-count-icon bi bi-card-image"
        >
            <span>{imageCount}</span>
        </span>
    </div>
    <span class="title">{title}</span>
</div>

<style>
    .project-tile {
        display: flex;
        flex-direction: column;
        align-items: stretch;

        border-top: var(--border-width) solid var(--text-color);
    }

    .thumbnail {
        display: flex;
        aspect-ratio: 1/1;
        flex-grow: 1;

        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        align-items: flex-start;
        padding: 1rem;

        image-rendering: auto;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
    }

    .image-count-icon {
        display: flex;
        flex-grow: 0;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .image-count-icon span {
        text-decoration: none;
    }

    .title {
        display: flex;
        background-color: var(--text-color);
        color: black;
        padding: 0.5rem;
        text-shadow: none;
        font-weight: bold;

        text-align: left;
        justify-content: flex-start;
        align-items: center;
    }
</style>

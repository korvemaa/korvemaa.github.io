---
import Project from "../../layouts/Project.astro";
import { type CollectionEntry, getCollection } from "astro:content";

export async function getStaticPaths() {
    const posts = (await getCollection("project")).filter(e=>e.id.startsWith("projects"));
    return posts.map((project) => ({
        params: { slug: project.id.substring("projects".length) },
        props: project,
    }));
}

type Props = CollectionEntry<"project">;
---

<Project post={Astro.props} backUrl="/projects"></Project>